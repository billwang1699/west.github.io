window.__require=function t(e,c,i){function s(o,h){if(!c[o]){if(!e[o]){var r=o.split("/");if(r=r[r.length-1],!e[r]){var a="function"==typeof __require&&__require;if(!h&&a)return a(r,!0);if(n)return n(r,!0);throw new Error("Cannot find module '"+o+"'")}o=r}var _=c[o]={exports:{}};e[o][0].call(_.exports,function(t){return s(e[o][1][t]||t)},_,_.exports,t,e,c,i)}return c[o].exports}for(var n="function"==typeof __require&&__require,o=0;o<i.length;o++)s(i[o]);return s}({game_mgr:[function(t,e,c){"use strict";cc._RF.push(e,"b6e52YeUiVBFJiciZPqFpKx","game_mgr"),cc.Class({extends:cc.Component,properties:{is_debug:!1,grow_speed:200,move_speed:100,stick:{type:cc.Node,default:null},player:{type:cc.Node,default:null},cur_plat:{type:cc.Node,default:null},next_plat:{type:cc.Node,default:null},elem_root:{type:cc.Node,default:null},platfrom_prefab:{type:cc.Prefab,default:null},platfrom_root:{type:cc.Node,default:null},checkout:{type:cc.Node,default:null}},onLoad:function(){this.is_started=!1,this.con_count=0,this.con_src=cc.find("UI_ROOT/count/src").getComponent(cc.Label),this.checkout_root=cc.find("UI_ROOT/checkout_root"),this.checkout_src=cc.find("UI_ROOT/checkout_root/bg/score").getComponent(cc.Label),this.checkout_title=cc.find("UI_ROOT/checkout_root/title").getComponent(cc.Label),this.touch_mask=cc.find("UI_ROOT/touch_mask"),this.touch_mask.active=!1,this.start_game()},start:function(){},start_game:function(){!0!==this.is_started&&(this.checkout_root.active=!1,this.is_started=!0,this.con_count=0,this.con_src.string=""+this.con_count,this.is_grow=!1,this.stick.height=0,this.player_offset=20,this.player.x=this.cur_plat.x+.5*this.cur_plat.width-this.player_offset,this.gen_next_plat(),this.touch=this.node.getChildByName("touch_node"),this.touch.on(cc.Node.EventType.TOUCH_START,function(t){this.is_grow=!0},this),this.touch.on(cc.Node.EventType.TOUCH_END,function(t){this.is_grow=!1,this.enter_game_decide(),this.touch_mask.active=!0},this),this.player.x=this.cur_plat.x+.5*this.cur_plat.width-this.player_offset,this.unscheduleAllCallbacks())},player_failed:function(){var t=this.stick.x+this.stick.height,e=(t-this.player.x)/this.move_speed,c=cc.moveTo(e/2,t,this.player.y),i=cc.callFunc(function(){var t=cc.rotateTo(.5,180),e=cc.moveBy(.5,5,-800);this.stick.runAction(t),this.stick.runAction(e),this._checkout()}.bind(this)),s=cc.moveBy(.5,0,-800),n=cc.sequence([c,i,s]);this.player.runAction(n);this.start=!1},on_move_end:function(t){this.destory_plat.removeFromParent(),this.stick.x+=t,this.stick.angle=0,this.stick.height=0},gen_next_plat:function(){this.next_plat=cc.instantiate(this.platfrom_prefab),this.platfrom_root.addChild(this.next_plat),this.next_plat.y=this.cur_plat.y,this.next_plat.x=this.cur_plat.x+.5*this.cur_plat.width+300+200*Math.random(),this.next_plat.width=(.2+.8*Math.random())*this.next_plat.width},player_success:function(){var t=this.next_plat.x+.5*this.next_plat.width-this.player_offset,e=t-this.player.x,c=e/this.move_speed,i=cc.moveTo(c/2,t,this.player.y),s=cc.callFunc(function(){this.elem_root.runAction(cc.moveBy(.5,-e,0)),this.destory_plat=this.cur_plat,this.cur_plat=this.next_plat,this.gen_next_plat(),this.scheduleOnce(function(){this.on_move_end(e),this.touch_mask.active=!1}.bind(this),.5)}.bind(this));this.con_count++,this.con_src.string=""+this.con_count;var n=cc.sequence([i,s]);this.player.runAction(n)},enter_player_walk:function(){var t=this.next_plat.x-.5*this.next_plat.width,e=this.next_plat.x+.5*this.next_plat.width;this.stick.x+this.stick.height>=t&&this.stick.x+this.stick.height<=e?this.player_success():this.player_failed()},enter_game_decide:function(){var t=cc.rotateTo(.5,90),e=cc.callFunc(function(){this.enter_player_walk()}.bind(this)),c=cc.sequence([t,e]);this.stick.runAction(c)},stick_grow_update:function(t){if(!1!==this.isgrow){var e=this.grow_speed*t;this.stick.height+=e}},_checkout:function(){this.checkout_root.active=!0,this.checkout_src.string=""+this.con_count;var t=["\u6211\u963f\u5b24\u90fd\u6bd4\u4f60\u5f37","\u5510\u50e7\u4f60\u5728\u54ea?","\u5be6\u5728\u597d\u68d2\u68d2","\u5927\u5e2b! \u8acb\u6536\u4e0b\u6211\u7684\u819d\u84cb"];this.con_count<=0?this.checkout_title.string=t[0]:this.con_count<=5?this.checkout_title.string=t[1]:this.con_count<=10?this.checkout_title.string=t[2]:this.checkout_title.string=t[3]},on_checkout_game:function(){this.checkout.active=!0},on_game_again:function(){cc.director.loadScene("game_scene")},update:function(t){this.is_grow&&this.stick_grow_update(t)}}),cc._RF.pop()},{}],player:[function(t,e,c){"use strict";cc._RF.push(e,"6a418Xxs3RD4KwQDkksy3Q2","player"),cc.Class({extends:cc.Component,properties:{},start:function(){}}),cc._RF.pop()},{}]},{},["game_mgr","player"]);